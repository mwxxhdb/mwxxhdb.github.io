/* NB CSS 间距系统 */

/* 基础间距 */
[data-p] {
    --p-value: attr(data-p type(<number>), 0);
    padding: calc(var(--p-value) * var(--spacing) * 1rem);
}

[data-m] {
    --m-value: attr(data-m type(<number>), 0);
    margin: calc(var(--m-value) * var(--spacing) * 1rem);
}

/* 方向性 Padding */
[data-px] {
    --px-value: attr(data-px type(<number>), 0);
    padding-left: calc(var(--px-value) * var(--spacing) * 1rem);
    padding-right: calc(var(--px-value) * var(--spacing) * 1rem);
}

[data-py] {
    --py-value: attr(data-py type(<number>), 0);
    padding-top: calc(var(--py-value) * var(--spacing) * 1rem);
    padding-bottom: calc(var(--py-value) * var(--spacing) * 1rem);
}

[data-pt] {
    --pt-value: attr(data-pt type(<number>), 0);
    padding-top: calc(var(--pt-value) * var(--spacing) * 1rem);
}

[data-pr] {
    --pr-value: attr(data-pr type(<number>), 0);
    padding-right: calc(var(--pr-value) * var(--spacing) * 1rem);
}

[data-pb] {
    --pb-value: attr(data-pb type(<number>), 0);
    padding-bottom: calc(var(--pb-value) * var(--spacing) * 1rem);
}

[data-pl] {
    --pl-value: attr(data-pl type(<number>), 0);
    padding-left: calc(var(--pl-value) * var(--spacing) * 1rem);
}

/* 方向性 Margin */
[data-mx] {
    --mx-value: attr(data-mx type(<number>), 0);
    margin-left: calc(var(--mx-value) * var(--spacing) * 1rem);
    margin-right: calc(var(--mx-value) * var(--spacing) * 1rem);
}

[data-my] {
    --my-value: attr(data-my type(<number>), 0);
    margin-top: calc(var(--my-value) * var(--spacing) * 1rem);
    margin-bottom: calc(var(--my-value) * var(--spacing) * 1rem);
}

[data-mt] {
    --mt-value: attr(data-mt type(<number>), 0);
    margin-top: calc(var(--mt-value) * var(--spacing) * 1rem);
}

[data-mr] {
    --mr-value: attr(data-mr type(<number>), 0);
    margin-right: calc(var(--mr-value) * var(--spacing) * 1rem);
}

[data-mb] {
    --mb-value: attr(data-mb type(<number>), 0);
    margin-bottom: calc(var(--mb-value) * var(--spacing) * 1rem);
}

[data-ml] {
    --ml-value: attr(data-ml type(<number>), 0);
    margin-left: calc(var(--ml-value) * var(--spacing) * 1rem);
}

/* 子元素间距 */
[data-space-x] {
    --space-x-value: attr(data-space-x type(<number>), 0);
}

[data-space-x]>*+* {
    margin-left: calc(var(--space-x-value) * var(--spacing) * 1rem);
}

[data-space-y] {
    --space-y-value: attr(data-space-y type(<number>), 0);
}

[data-space-y]>*+* {
    margin-top: calc(var(--space-y-value) * var(--spacing) * 1rem);
}

/* 特殊值支持 */
[data-m="auto"] {
    margin: auto;
}

[data-mx="auto"] {
    margin-left: auto;
    margin-right: auto;
}

[data-my="auto"] {
    margin-top: auto;
    margin-bottom: auto;
}

[data-mt="auto"] {
    margin-top: auto;
}

[data-mr="auto"] {
    margin-right: auto;
}

[data-mb="auto"] {
    margin-bottom: auto;
}

[data-ml="auto"] {
    margin-left: auto;
}

/* 响应式间距 - 小屏幕 */
@media (min-width: 640px) {
    [data-p-sm] {
        --p-value: attr(data-p-sm type(<number>), 0);
    }

    [data-m-sm] {
        --m-value: attr(data-m-sm type(<number>), 0);
    }

    [data-px-sm] {
        --px-value: attr(data-px-sm type(<number>), 0);
    }

    [data-py-sm] {
        --py-value: attr(data-py-sm type(<number>), 0);
    }

    [data-mx-sm] {
        --mx-value: attr(data-mx-sm type(<number>), 0);
    }

    [data-my-sm] {
        --my-value: attr(data-my-sm type(<number>), 0);
    }

    [data-mt-sm] {
        --mt-value: attr(data-mt-sm type(<number>), 0);
    }

    [data-mr-sm] {
        --mr-value: attr(data-mr-sm type(<number>), 0);
    }

    [data-mb-sm] {
        --mb-value: attr(data-mb-sm type(<number>), 0);
    }

    [data-ml-sm] {
        --ml-value: attr(data-ml-sm type(<number>), 0);
    }

    [data-space-x-sm] {
        --space-x-value: attr(data-space-x-sm type(<number>), 0);
    }

    [data-space-y-sm] {
        --space-y-value: attr(data-space-y-sm type(<number>), 0);
    }
}

/* 响应式间距 - 中等屏幕 */
@media (min-width: 768px) {
    [data-p-md] {
        --p-value: attr(data-p-md type(<number>), 0);
    }

    [data-m-md] {
        --m-value: attr(data-m-md type(<number>), 0);
    }

    [data-px-md] {
        --px-value: attr(data-px-md type(<number>), 0);
    }

    [data-py-md] {
        --py-value: attr(data-py-md type(<number>), 0);
    }

    [data-mx-md] {
        --mx-value: attr(data-mx-md type(<number>), 0);
    }

    [data-my-md] {
        --my-value: attr(data-my-md type(<number>), 0);
    }

    [data-mt-md] {
        --mt-value: attr(data-mt-md type(<number>), 0);
    }

    [data-mr-md] {
        --mr-value: attr(data-mr-md type(<number>), 0);
    }

    [data-mb-md] {
        --mb-value: attr(data-mb-md type(<number>), 0);
    }

    [data-ml-md] {
        --ml-value: attr(data-ml-md type(<number>), 0);
    }

    [data-space-x-md] {
        --space-x-value: attr(data-space-x-md type(<number>), 0);
    }

    [data-space-y-md] {
        --space-y-value: attr(data-space-y-md type(<number>), 0);
    }
}

/* 响应式间距 - 大屏幕 */
@media (min-width: 1024px) {
    [data-p-lg] {
        --p-value: attr(data-p-lg type(<number>), 0);
    }

    [data-m-lg] {
        --m-value: attr(data-m-lg type(<number>), 0);
    }

    [data-px-lg] {
        --px-value: attr(data-px-lg type(<number>), 0);
    }

    [data-py-lg] {
        --py-value: attr(data-py-lg type(<number>), 0);
    }

    [data-mx-lg] {
        --mx-value: attr(data-mx-lg type(<number>), 0);
    }

    [data-my-lg] {
        --my-value: attr(data-my-lg type(<number>), 0);
    }

    [data-mt-lg] {
        --mt-value: attr(data-mt-lg type(<number>), 0);
    }

    [data-mr-lg] {
        --mr-value: attr(data-mr-lg type(<number>), 0);
    }

    [data-mb-lg] {
        --mb-value: attr(data-mb-lg type(<number>), 0);
    }

    [data-ml-lg] {
        --ml-value: attr(data-ml-lg type(<number>), 0);
    }

    [data-space-x-lg] {
        --space-x-value: attr(data-space-x-lg type(<number>), 0);
    }

    [data-space-y-lg] {
        --space-y-value: attr(data-space-y-lg type(<number>), 0);
    }
}

/* 响应式间距 - 超大屏幕 */
@media (min-width: 1280px) {
    [data-p-xl] {
        --p-value: attr(data-p-xl type(<number>), 0);
    }

    [data-m-xl] {
        --m-value: attr(data-m-xl type(<number>), 0);
    }

    [data-px-xl] {
        --px-value: attr(data-px-xl type(<number>), 0);
    }

    [data-py-xl] {
        --py-value: attr(data-py-xl type(<number>), 0);
    }

    [data-mx-xl] {
        --mx-value: attr(data-mx-xl type(<number>), 0);
    }

    [data-my-xl] {
        --my-value: attr(data-my-xl type(<number>), 0);
    }

    [data-mt-xl] {
        --mt-value: attr(data-mt-xl type(<number>), 0);
    }

    [data-mr-xl] {
        --mr-value: attr(data-mr-xl type(<number>), 0);
    }

    [data-mb-xl] {
        --mb-value: attr(data-mb-xl type(<number>), 0);
    }

    [data-ml-xl] {
        --ml-value: attr(data-ml-xl type(<number>), 0);
    }

    [data-space-x-xl] {
        --space-x-value: attr(data-space-x-xl type(<number>), 0);
    }

    [data-space-y-xl] {
        --space-y-value: attr(data-space-y-xl type(<number>), 0);
    }
}

/* 间距动画 */
[data-spacing-transition] {
    transition: padding var(--duration-normal) ease, margin var(--duration-normal) ease;
}

/* 调试模式 */
[data-debug-spacing="true"] [data-p] {
    background: rgba(255, 0, 0, 0.1);
    outline: 1px dashed red;
}

[data-debug-spacing="true"] [data-m] {
    outline: 1px dashed blue;
}